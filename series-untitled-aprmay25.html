<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Drag & Drop Wall Editor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;700&display=swap" rel="stylesheet">
  <style>
    html, body {
      background: #000;
      color: #c9ffd7;
      font-family: 'Barlow Condensed', Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    h1 { text-align: center; margin-top: 2rem; }
    .wall-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-template-rows: repeat(4, 1fr);
      gap: 1vw;
      width: 90vw;
      max-width: 900px;
      aspect-ratio: 4/3;
      margin: 2vw auto 3vw auto;
      background: #111;
      border-radius: 10px;
      padding: 1vw;
      box-sizing: border-box;
    }
    .drop-cell {
      position: relative;
      background: #111;
      border: 2px dashed #222;
      border-radius: 6px;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      transition: border-color 0.15s;
    }
    .drop-cell.over {
      border-color: #a7ffb7;
    }
    .wall-img {
      max-width: 100%;
      max-height: 100%;
      object-fit: cover;
      border-radius: 4px;
      box-shadow: 0 2px 12px #000a;
      cursor: grab;
      background: #000;
      user-select: none;
    }
    .img-label {
      position: absolute;
      bottom: 4px;
      left: 4px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      font-size: 1em;
      padding: 1px 6px;
      border-radius: 3px;
      pointer-events: none;
      z-index: 2;
      font-family: inherit;
    }
    /* Make us2 span 2x2 */
    .cell-us2 {
      grid-column: 2 / span 2;
      grid-row: 2 / span 2;
      z-index: 1;
    }
    /* Responsive */
    @media (max-width: 700px) {
      .wall-grid {
        width: 99vw;
        gap: 2vw;
      }
    }
    .instructions {
      text-align: center;
      color: #a7ffb7;
      margin-bottom: 1.5rem;
    }
    .output-html {
      margin: 2rem auto;
      max-width: 900px;
      white-space: pre-wrap;
      background: #181b1b;
      color: #c9ffd7;
      border-radius: 8px;
      padding: 1rem;
      font-size: 1.01em;
      font-family: monospace;
      overflow-x: auto;
      display: none;
    }
    .output-html.active {
      display: block;
    }
    .copy-btn {
      display: block;
      margin: 0.7em auto 2em auto;
      background: #c9ffd7;
      color: #111;
      border: none;
      border-radius: 5px;
      padding: 0.55em 1.2em;
      font-size: 1.08em;
      font-family: inherit;
      cursor: pointer;
      font-weight: 700;
      transition: background 0.18s;
    }
    .copy-btn:hover { background: #a7ffb7; }
  </style>
</head>
<body>
  <h1>Drag & Drop Wall Editor</h1>
  <p class="instructions">
    Drag and drop images to rearrange. <br>
    <b>us2</b> is the main image (4x size).<br>
    When you're done, click "Show HTML" to get the new order.
  </p>
  <div class="wall-grid" id="wallGrid">
    <div class="drop-cell" data-pos="0"><img src="images/us1.jpg" draggable="true" data-id="us1" class="wall-img"><span class="img-label">us1</span></div>
    <div class="drop-cell" data-pos="1"><img src="images/us3.jpg" draggable="true" data-id="us3" class="wall-img"><span class="img-label">us3</span></div>
    <div class="drop-cell" data-pos="2"><img src="images/us4.jpg" draggable="true" data-id="us4" class="wall-img"><span class="img-label">us4</span></div>
    <div class="drop-cell" data-pos="3"><img src="images/us5.jpg" draggable="true" data-id="us5" class="wall-img"><span class="img-label">us5</span></div>
    <div class="drop-cell" data-pos="4"><img src="images/us6.jpg" draggable="true" data-id="us6" class="wall-img"><span class="img-label">us6</span></div>
    <div class="drop-cell cell-us2" data-pos="5"><img src="images/us2.jpg" draggable="true" data-id="us2" class="wall-img"><span class="img-label">us2 (main)</span></div>
    <div class="drop-cell" data-pos="6"><img src="images/us7.jpg" draggable="true" data-id="us7" class="wall-img"><span class="img-label">us7</span></div>
    <div class="drop-cell" data-pos="7"><img src="images/us8.jpg" draggable="true" data-id="us8" class="wall-img"><span class="img-label">us8</span></div>
    <div class="drop-cell" data-pos="8"><img src="images/us9.jpg" draggable="true" data-id="us9" class="wall-img"><span class="img-label">us9</span></div>
    <div class="drop-cell" data-pos="9"><img src="images/us10.jpg" draggable="true" data-id="us10" class="wall-img"><span class="img-label">us10</span></div>
    <div class="drop-cell" data-pos="10"><img src="images/us11.jpg" draggable="true" data-id="us11" class="wall-img"><span class="img-label">us11</span></div>
  </div>
  <button class="copy-btn" id="showHtmlBtn">Show HTML</button>
  <div class="output-html" id="outputHtml"></div>
  <script>
    // Drag-and-drop logic
    const grid = document.getElementById('wallGrid');
    let draggedImg = null;
    let fromCell = null;

    grid.querySelectorAll('.wall-img').forEach(img => {
      img.addEventListener('dragstart', e => {
        draggedImg = img;
        fromCell = img.parentElement;
        setTimeout(() => img.style.visibility = 'hidden', 0);
      });
      img.addEventListener('dragend', () => {
        if (draggedImg) draggedImg.style.visibility = 'visible';
        draggedImg = null;
        fromCell = null;
        grid.querySelectorAll('.drop-cell').forEach(cell => cell.classList.remove('over'));
      });
    });

    grid.querySelectorAll('.drop-cell').forEach(cell => {
      cell.addEventListener('dragover', e => {
        e.preventDefault();
        cell.classList.add('over');
      });
      cell.addEventListener('dragleave', () => cell.classList.remove('over'));
      cell.addEventListener('drop', e => {
        e.preventDefault();
        cell.classList.remove('over');
        if (draggedImg && cell !== fromCell) {
          // Swap images
          const toImg = cell.querySelector('.wall-img');
          const toLabel = cell.querySelector('.img-label');
          if (toImg && toLabel) {
            fromCell.appendChild(toImg);
            fromCell.appendChild(toLabel);
          }
          cell.appendChild(draggedImg);
          cell.appendChild(fromCell.querySelector('.img-label'));
        }
      });
    });

    // Show HTML output
    document.getElementById('showHtmlBtn').onclick = function() {
      let html = '';
      grid.querySelectorAll('.drop-cell').forEach(cell => {
        const img = cell.querySelector('.wall-img');
        if (img) {
          html += `<img src="${img.src}" alt="${img.getAttribute('data-id')}" class="wall-img">\n`;
        }
      });
      document.getElementById('outputHtml').textContent = html.trim();
      document.getElementById('outputHtml').classList.add('active');
    };
  </script>
</body>
</html>
